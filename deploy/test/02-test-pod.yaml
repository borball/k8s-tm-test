---
apiVersion: v1
kind: Namespace
metadata:
  name: tm-test

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: tm-test
  labels:
    app: tm-test
  namespace: tm-test
spec:
  replicas: 2
  selector:
    matchLabels:
      app: tm-test
  template:
    metadata:
      labels:
        app: tm-test
    spec:
      volumes:
        - name: html
          emptyDir: {}
      containers:
        - name: 1st
          image: quay.io/bzhai/nginx
          volumeMounts:
            - name: html
              mountPath: /usr/share/nginx/html
        - name: 2nd
          image: registry.access.redhat.com/ubi8/ubi:8.1
          volumeMounts:
            - name: html
              mountPath: /html
          command: ["/bin/sh", "-c"]
          args:
            - while true; do
              date >> /html/index.html;
              sleep 1;
              done